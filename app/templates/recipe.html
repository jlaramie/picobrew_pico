{% extends "base.html" %} {% block content %}
<script src="/static/js/convert_units.js"></script>
<script src="/static/js/base_recipe.js"></script>
<script src="/static/js/zymatic_recipe.js"></script>
<script>
  var tables = {};
</script>
{% include "units_selector.html" %}
<form id="f_{{recipe['id']}}">
  <div class="form-row">
    <div class="form-group col-sm-3">
      <input
        type="text"
        class="form-control form-control-sm"
        id="recipe_name"
        placeholder="Recipe Name"
        value="{{recipe['name']}}"
      />
    </div>
    <div class="form-group col-sm-9">
      <button
        class="btn btn-sm btn-success float-right mr-3"
        type="button"
        id="b_{{recipe['id']}}"
      >
        <i class="far fa-save fa-lg"></i>
      </button>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-sm-12">
      <textarea
        class="form-control form-control-sm"
        id="notes"
        rows="5"
        placeholder="Notes (description and details of recipe)"
      ></textarea>
    </div>
  </div>
</form>
<div
  class="table-recipe table-sm table-striped table-bordered table-light"
  id="t_{{recipe['id']}}"
></div>
<script>
  var table = new Tabulator("#t_{{recipe['id']}}", recipe_table);
  table.setData({{ recipe['steps']| tojson }});
  tables["{{recipe['id']}}"] = table;
</script>
{% endblock %}
